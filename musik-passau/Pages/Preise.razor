@using ViewModels
<div id="preise" class="container-fluid bg-preise pt-5">
    <div class="text-center">
        <h1>Preise</h1>
    </div>

    <div class="row mx-3">
        @foreach (var info in preisInfos)
        {
            <div class="col-md px-4">
                <div class="row" style="height: 60%">
                    <div class="col-auto text-vertical-display text-end ps-3 pe-5">
                        @info.Titel
                    </div>
                    <div class="col p-0 overflow-hidden" style="height: 100%">
                        <img src="@info.ImageSrc" alt="@info.Titel" style="object-fit: cover; width: 100%">
                    </div>
                </div>
                <div class="price-box">
                    <div class="p-2 bg-white" style="font-size: .7rem">
                        <p>
                            @foreach (var s in info.PreisText.Split("\n"))
                            {
                                @s
                                <br>
                            }
                        </p>
                        @if (info.VertragInfos != null)
                        {
                            <div class="text-end">
                                <button type="button" class="btn btn-outline-dark" style="font-size: .7rem" @onclick="() => info.Modal!.Open()">
                                    Vertragsvarianten ansehen
                                </button>
                            </div>

                            <VertragInfoModal @ref="@info.Modal" VertragInfos="@info.VertragInfos" />
                        }
                    </div>
                </div>
            </div>
        }
    </div>
</div>

@code {

    private PreisInfo[] preisInfos;

    public Preise()
    {
        preisInfos = new[]
        {
            new PreisInfo
            {
                Titel = "Hochzeitsduo",
                ImageSrc = "images/IMG_2933.JPG",
                PreisText = "Gage für Duo mit Klavierbegleitung:\n\n200 € pro Stunde"
            },
            new PreisInfo
            {
                Titel = "Gesangscoaching",
                ImageSrc = "images/IMG_2953.JPG",
                PreisText = "Probestunde:\n35 €",
                VertragInfos = new VertragInfo[]
                {
                    new() {Text = "Jahresvertrag 12 x 135 €", Titel = "46 Std. / Jahr, wöchentlich 45 Min."},
                    new() {Text = "Halbjahresvertrag 6 x 140 €", Titel = "23 Std. / 6 Monate, wöchentlich 45 Min."},
                    new() {Text = "Jahresvertrag 12 x 80 €", Titel = "24 Std. / Jahr, 2 x mtl. 45 Min."},
                    new() {Text = "Halbjahresvertrag 6 x 85 €", Titel = "12 Std. / 6 Monate, 2 x mtl. 45 Min."}
                }
            },
            new PreisInfo
            {
                Titel = "Klavierunterricht",
                ImageSrc = "images/IMG_2970.JPG",
                PreisText = "Probestunde:\n30 €",
                VertragInfos = new VertragInfo[]
                {
                    new() {Text = "Jahresvertrag Erwachsene 12 x 115 €", Titel = "46 Std. / Jahr, wöchentlich 45 Min."},
                    new() {Text = "Jahresvertrag Schüler 12 x 100 €", Titel = "38 Std. / Jahr, wöchentlich 45 Min."},
                    new() {Text = "Jahresvertrag Erwachsene 12 x 77 €", Titel = "46 Std. / Jahr, wöchentlich 30 Min."},
                    new() {Text = "Jahresvertrag Schüler 12 x 70 €", Titel = "38 Std. / Jahr, wöchentlich 30 Min."}
                }
            },
        };
    }

}